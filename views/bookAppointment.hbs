<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Book Appointment | {{doctor.name}}</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    {{> navbar}}
    <main class="appointment-main">
        <h2>Book Appointment with {{doctor.name}}</h2>
        
       <form action="/doctor/{{doctor._id}}/book" method="POST" class="product-form" enctype="multipart/form-data">
    <div class="form-group">
        <label for="date">Date</label>
        <input type="date" name="date" id="date" value="{{date}}" required
       min="{{today}}" onchange="window.location.href='?date='+this.value">

    </div>
    <div class="form-group">
        <label>Choose Time Slot</label>
        <div class="slots-grid">
            {{#each slotStatus}}
                {{#if this.occupied}}
                    <button type="button" class="slot-btn occupied" disabled>{{this.time}}</button>
                {{else}}
            <label>
                        <input type="radio" name="time" value="{{this.time}}" required hidden>
                        <span class="slot-btn free">{{this.time}}</span>
                    </label>
                {{/if}}
            {{/each}}
        </div>
    </div>
    <div class="form-group">
        <label for="reason">Reason for Visit</label>
        <textarea name="reason" id="reason" rows="2" required></textarea>
    </div>
    <div class="form-group">
    <label for="report">Upload Report/Document (optional)</label>
    <input type="file" name="report" id="report" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
</div>
    <button type="submit" class="submit-btn">Book</button>
</form>

    </main>

     <footer class="main-footer">
  <p>&copy; 2025 MediConnect. All rights reserved.</p>
</footer>

</body>
</html>